<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@annotorious/openseadragon@latest/dist/annotorious-openseadragon.css">
</head>
<body>
  <div id="my-openseadragon-container" style="width: 800px; height: 600px;"></div>

  <script src="https://cdn.jsdelivr.net/npm/openseadragon@5.0.0/build/openseadragon/openseadragon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@annotorious/openseadragon@latest/dist/annotorious-openseadragon.js"></script>
  <script type="module">

    // Initialize OpenSeadragon viewer
    const viewer = OpenSeadragon({
      prefixUrl: 'https://openseadragon.github.io/openseadragon/images/',
      element: document.getElementById('my-openseadragon-container'),
      tileSources: {
        type: 'image',
        url: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Red_squirrel_%2821808%29.jpg/984px-Red_squirrel_%2821808%29.jpg'
      }
    });

    // Initialize annotator
    const anno = AnnotoriousOSD.createOSDAnnotator(viewer, {  
      drawingEnabled: true,
    });

    // Attach listeners to handle annotation events
    anno.on('createAnnotation', function(annotation) {
      console.log('created', annotation);
    });

    anno.addAnnotation({
      id: '7fb76422-3a8c-4c87-bbad-7c8bb68399a0',
      target: {
        selector: {
          type: 'RECTANGLE',
          geometry: {
            bounds: {
                minX: 272,
                minY: 169,
                maxX: 393,
                maxY: 259
            },
            x: 272,
            y: 169,
            w: 121,
            h: 90,
          }
        }
      }
    });

    // Load annotations from a JSON file
    // anno.loadAnnotations('./annotations.json');

  </script>
</body>
</html>